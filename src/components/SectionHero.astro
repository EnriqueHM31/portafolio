---
import EMAIL from "../components/Iconos/Email.astro";
import GITHUB from "../components/Iconos/GitHub.astro";
import FONDOIMAGEN from "../assets/fondo.png";

const RedesSociales = [
    { name: "Github", link: "https://github.com/EnriqueHM31", Icon: GITHUB },
    { name: "Email", link: "mailto:luisenriquehernandezmarin0@gmail.com", Icon: EMAIL },
] as const;
---

<section class="relative flex min-h-screen items-center justify-center gap-10" id="home">
    <div class="container flex flex-3 flex-col gap-5">
        <h1 class="split text-5xl font-bold text-white">Dev Luis Enrique HernÃ¡ndez MarÃ­n</h1>
        <p class="text-descripcion ml-1 text-base leading-7 font-normal text-pretty text-white">
            Soy desarrollador web apasionado por crear experiencias digitales claras, funcionales y bien pensadas.
            Disfruto programar y transformar ideas en soluciones reales, utilizando tecnologÃ­as como JavaScript y
            TypeScript, y frameworks modernos como React y Astro. Me enfoco en entender lo que el usuario realmente
            necesita para ofrecer soluciones eficientes, escalables y alineadas con cada proyecto.
        </p>

        <div class="flex flex-row gap-8">
            {
                RedesSociales.map(({ name, link, Icon }) => (
                    <a href={link} target="_blank" rel="noreferrer" class="wrapper link-redes">
                        <div class="icon icono-wrapper">
                            <span class="tooltip">{name}</span>
                            <Icon class="h-6 w-6 text-zinc-200 transition hover:text-white" />
                        </div>
                    </a>
                ))
            }
        </div>
    </div>

    <div class="img-foto relative flex size-110 flex-2 items-center justify-center">
        <div class="absolute h-full w-full">
            <img src={FONDOIMAGEN.src} alt="Fondo" class="h-full w-full object-cover" />
        </div>
        <h1>hola</h1>
    </div>
</section>

<style>
    h1 {
        text-shadow:
            2px 2px 10px rgba(15, 17, 15, 0.966),
            2px 5px 2px rgba(1, 255, 22, 0.966),
            2px 5px 2px rgb(30, 255, 0);
    }
    /* From Uiverse.io by david-mohseni */
    .wrapper {
        display: flex;
        list-style: none;
        align-items: center;
        justify-content: center;
        box-shadow: 2px 5px 15px rgb(45, 253, 3);
        border-radius: 50%;
    }

    .wrapper .icon {
        position: relative;
        background: #000;
        border-radius: 50%;
        border: 2px solid rgb(45, 253, 3);
        box-shadow: 2px 10px 20px rgb(45, 253, 3);
        width: 50px;
        height: 50px;
        font-size: 18px;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        box-shadow: 0 10px 10px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: all 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    .wrapper .tooltip {
        position: absolute;
        top: 0;
        font-size: 14px;
        background: #fff;
        color: #fff;
        padding: 5px 8px;
        border-radius: 10px;
        box-shadow: 0 10px 10px rgba(0, 0, 0, 0.1);
        opacity: 0;
        pointer-events: none;
        transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    .wrapper .tooltip::before {
        position: absolute;
        content: "";
        height: 8px;
        width: 8px;
        background: #fff;
        bottom: -3px;
        left: 50%;
        transform: translate(-50%) rotate(45deg);
        transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    .wrapper .icon:hover .tooltip {
        top: -45px;
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
    }

    .wrapper .icon:hover span,
    .wrapper .icon:hover .tooltip {
        text-shadow: 0px -1px 0px rgba(0, 0, 0, 0.1);
    }

    .wrapper .icono-wrapper:hover .tooltip,
    .wrapper .icono-wrapper:hover .tooltip::before {
        background: rgb(16, 119, 4);
        color: #fff;
    }

    .wrapper .twitter:hover,
    .wrapper .twitter:hover .tooltip,
    .wrapper .twitter:hover .tooltip::before {
        background: #1da1f2;
        color: #fff;
    }

    .wrapper .instagram:hover,
    .wrapper .instagram:hover .tooltip,
    .wrapper .instagram:hover .tooltip::before {
        background: #e4405f;
        color: #fff;
    }
</style>
<script>
    import gsap from "gsap";
    import SplitText from "gsap/SplitText";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(SplitText, ScrollTrigger);

    document.fonts.ready.then(() => {
        // =========================
        // SPLIT TEXT
        // =========================
        const titleSplit = new SplitText(".split", {
            type: "words,lines",
            linesClass: "line",
        });

        const descSplit = new SplitText(".text-descripcion", {
            type: "lines",
            linesClass: "line",
        });

        // =========================
        // TIMELINE PRINCIPAL
        // =========================
        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: ".section-hero", // contenedor padre
                start: "top 80%",
                once: true, // ðŸ”‘ evita reanimaciones
            },
        });

        // =========================
        // ANIMACIONES
        // =========================
        tl.from(titleSplit.words, {
            yPercent: 300,
            opacity: 0,
            duration: 1.2,
            stagger: 0.12,
            ease: "expo.out",
        })

            .from(
                descSplit.lines,
                {
                    yPercent: 200,
                    opacity: 0,
                    duration: 0.9,
                    stagger: 0.18,
                    ease: "expo.out",
                },
                "-=0.6"
            ) // solape suave

            .from(
                ".link-redes",
                {
                    y: 40,
                    opacity: 0,
                    duration: 0.6,
                    stagger: 0.25,
                    ease: "power3.out",
                },
                "-=0.4"
            )

            .from(
                ".img-foto",
                {
                    opacity: 0,
                    scale: 0.95,
                    duration: 0.8,
                    ease: "power3.out",
                },
                "-=0.5"
            );
    });
</script>
