---
interface Props {
    text: string;
    position?: "top" | "bottom" | "left" | "right";
}

const { text, position = "top" } = Astro.props;
---

<span class="tooltip-wrapper">
    <slot />

    <span class={`tooltip tooltip-${position}`} role="tooltip">
        {text}
    </span>
</span>

<style>
    .tooltip-wrapper {
        position: relative;
        display: inline-flex;
    }

    .tooltip {
        position: absolute;
        padding: 0.4rem 0.6rem;
        font-size: 0.75rem;
        background: rgba(15, 15, 15, 0.95);
        color: white;
        border-radius: 0.4rem;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transform: translateY(4px);
        transition:
            opacity 0.2s ease,
            transform 0.2s ease;
        z-index: 50;
    }

    /* Mostrar tooltip */
    .tooltip-wrapper:hover .tooltip,
    .tooltip-wrapper:focus-within .tooltip {
        opacity: 1;
        transform: translateY(0);
    }

    /* POSICIONES */
    .tooltip-top {
        bottom: 100%;
        left: 50%;
        transform: translate(-50%, -6px);
    }

    .tooltip-bottom {
        top: 100%;
        left: 50%;
        transform: translate(-50%, 6px);
    }

    .tooltip-left {
        right: 100%;
        top: 50%;
        transform: translate(-6px, -50%);
    }

    .tooltip-right {
        left: 100%;
        top: 50%;
        transform: translate(6px, -50%);
    }
</style>
